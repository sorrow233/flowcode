/* ===== 薄暮 (Hakubo) Design System - 日系風格 ===== */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&family=Zen+Kaku+Gothic+New:wght@300;400;500;700&family=Shippori+Mincho:wght@400;500;600&display=swap');

:root {
  /* === 色彩系統 (Color Palette - Light Mode) === */

  /* 背景層 - 亮色系 */
  --bg-sumi: #F5F5F7;
  /* 雲 - 整體背景 */
  --bg-yoru: #FFFFFF;
  /* 雪 - 內容層 */
  --bg-shitan: #FFFFFF;
  /* 白 - 基礎層 */
  --bg-kiri: rgba(0, 0, 0, 0.03);
  /* 霧 - 浮層 */
  --bg-washi: rgba(255, 255, 255, 0.7);
  /* 和紙 - 卡片質感 */

  /* 主色調 - 和風色彩 (適配亮色) */
  --shu: #E85C4A;
  /* 朱赤 */
  --shu-soft: #E85C4A15;
  --shu-glow: rgba(232, 92, 74, 0.1);

  --fuji: #8A63D2;
  /* 藤紫 - 加深以提高對比 */
  --fuji-soft: #9D7CD815;
  --fuji-glow: rgba(157, 124, 216, 0.1);

  --asagi: #2DA493;
  /* 淺蔥 - 加深以提高對比 */
  --asagi-soft: #5EEAD415;
  --asagi-glow: rgba(45, 164, 147, 0.1);

  --kincha: #D48806;
  /* 金茶 - 加深 */
  --kincha-soft: #F5A62315;

  --sakura: #FFB7C5;
  /* 櫻 - 裝飾用 */

  /* 漸層 - 亮色版 */
  --grad-sunset: linear-gradient(135deg, #E85C4A 0%, #8A63D2 100%);
  --grad-dawn: linear-gradient(135deg, #8A63D2 0%, #2DA493 100%);
  --grad-washi: linear-gradient(180deg, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.4) 100%);
  --grad-ink: linear-gradient(180deg, rgba(200, 200, 200, 0.3) 0%, transparent 100%);

  /* 文字色彩 - 深色 */
  --text-yuki: #1D1D21;
  /* 墨 - 主要文字 */
  --text-nezumi: #5E5E66;
  /* 鼠 - 次要文字 */
  --text-ishi: #8E8E99;
  /* 石 - 靜默文字 */

  /* 邊框 */
  --border-kasumi: rgba(0, 0, 0, 0.08);
  /* 霞 - 柔邊 */
  --border-kin: rgba(0, 0, 0, 0.12);
  /* 輪廓 */

  /* === 字體系統 === */
  --font-gothic: 'Zen Kaku Gothic New', 'Noto Sans JP', sans-serif;
  --font-mincho: 'Shippori Mincho', serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;

  /* === 間距與圓角 === */
  --radius-sm: 6px;
  --radius-md: 12px;
  --radius-lg: 20px;
  --radius-xl: 28px;
  --radius-full: 9999px;

  /* === 陰影 - 柔和陰影 === */
  --shadow-ink: 0 4px 20px rgba(0, 0, 0, 0.06);
  --shadow-float: 0 8px 30px rgba(0, 0, 0, 0.08);
  --shadow-hover: 0 12px 40px rgba(0, 0, 0, 0.12);

  /* === Z-Index === */
  --z-base: 1;
  --z-elevated: 10;
  --z-header: 100;
  --z-modal: 1000;
  --z-particles: 0;
}

/* ===== 基礎重置 ===== */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
  background: var(--bg-sumi);
}

body {
  font-family: var(--font-gothic);
  background: var(--bg-sumi);
  color: var(--text-yuki);
  line-height: 1.7;
  min-height: 100vh;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

::selection {
  background: var(--fuji);
  color: white;
}

/* ===== 排版系統 ===== */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-gothic);
  font-weight: 500;
  line-height: 1.3;
  letter-spacing: 0.02em;
  color: var(--text-yuki);
}

h1 {
  font-size: clamp(2.5rem, 8vw, 4rem);
}

h2 {
  font-size: clamp(1.8rem, 4vw, 2.5rem);
}

h3 {
  font-size: clamp(1.3rem, 3vw, 1.6rem);
}

h4 {
  font-size: 1.2rem;
}

p {
  color: var(--text-nezumi);
  margin-bottom: 1rem;
  line-height: 1.8;
}

a {
  color: var(--asagi);
  text-decoration: none;
  transition: color 0.3s ease;
}

a:hover {
  color: var(--fuji);
}

/* ===== 書法標題 ===== */
.calligraphy-title {
  font-family: var(--font-mincho);
  font-weight: 400;
  letter-spacing: 0.15em;
}

.text-gradient-shu {
  background: var(--grad-sunset);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-gradient-asagi {
  background: var(--grad-dawn);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ===== 和紙卡片 ===== */
.washi-card {
  background: var(--grad-washi);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid var(--border-kasumi);
  border-radius: var(--radius-lg);
  position: relative;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.washi-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg,
      rgba(255, 255, 255, 0.4) 0%,
      transparent 50%,
      rgba(255, 255, 255, 0.1) 100%);
  pointer-events: none;
}

.washi-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-hover);
  border-color: var(--border-kin);
}

/* 深色和紙 */
/* 深色和紙 (现在改为深色强调卡片) */
.washi-card-dark {
  background: linear-gradient(180deg,
      rgba(255, 255, 255, 0.9) 0%,
      rgba(240, 240, 245, 0.95) 100%);
  backdrop-filter: blur(12px);
  border: 1px solid var(--border-kasumi);
  border-radius: var(--radius-lg);
}

/* ===== 玻璃面板 (現代日式) ===== */
.glass-panel {
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid var(--border-kasumi);
  border-radius: var(--radius-lg);
}

.glass-panel-heavy {
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--border-kasumi);
  border-radius: var(--radius-lg);
}

/* ===== 表面卡片 ===== */
.surface-card {
  background: var(--bg-shitan);
  border: 1px solid var(--border-kasumi);
  border-radius: var(--radius-md);
  transition: all 0.3s ease;
}

.surface-card:hover {
  border-color: var(--border-kin);
}

/* ===== 按鈕系統 ===== */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.9em 2em;
  border-radius: var(--radius-full);
  font-family: var(--font-gothic);
  font-weight: 500;
  font-size: 0.95rem;
  letter-spacing: 0.05em;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  border: none;
  text-decoration: none;
}

.btn-primary {
  background: var(--grad-sunset);
  color: white;
  box-shadow: 0 4px 15px var(--shu-glow);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px var(--shu-glow);
}

.btn-secondary {
  background: transparent;
  color: var(--text-nezumi);
  border: 1px solid var(--border-kasumi);
}

.btn-secondary:hover {
  color: var(--text-yuki);
  border-color: var(--border-kin);
  background: var(--bg-kiri);
}

.btn-ghost {
  background: transparent;
  color: var(--asagi);
  border: 1px solid var(--asagi);
  box-shadow: 0 0 15px var(--asagi-soft);
}

.btn-ghost:hover {
  background: var(--asagi);
  color: var(--bg-sumi);
}

/* ===== 容器 ===== */
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1.5rem;
  position: relative;
}

/* ===== 動畫系統 ===== */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes inkSpread {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }

  50% {
    opacity: 0.5;
  }

  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes gentleFloat {

  0%,
  100% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-8px);
  }
}



@keyframes pulse-soft {

  0%,
  100% {
    opacity: 0.5;
  }

  50% {
    opacity: 0.8;
  }
}

.animate-enter {
  animation: fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  opacity: 0;
}

.animate-float {
  animation: gentleFloat 5s ease-in-out infinite;
}

.delay-100 {
  animation-delay: 100ms;
}

.delay-200 {
  animation-delay: 200ms;
}

.delay-300 {
  animation-delay: 300ms;
}

.delay-400 {
  animation-delay: 400ms;
}

.delay-500 {
  animation-delay: 500ms;
}

/* ===== 背景裝飾 ===== */
.bg-ink-wash {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: -1;
  pointer-events: none;
  background:
    radial-gradient(ellipse at 20% 20%, var(--shu-glow) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 80%, var(--fuji-glow) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 50%, var(--asagi-glow) 0%, transparent 60%);
  filter: blur(80px);
  opacity: 0.6;
}

.bg-grain {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 50;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
}

/* ===== 頁面標題區 ===== */
.page-header {
  padding: 4rem 0 6rem;
  text-align: center;
  position: relative;
}

.page-header h1 {
  margin-bottom: 1rem;
}

/* ===== 卷軸標題 ===== */
.scroll-title {
  display: inline-flex;
  align-items: center;
  gap: 1rem;
  padding: 0.6rem 2rem;
  background: var(--bg-shitan);
  border: 1px solid var(--border-kasumi);
  border-radius: var(--radius-full);
  margin-bottom: 1.5rem;
}

.scroll-title::before,
.scroll-title::after {
  content: '';
  width: 8px;
  height: 8px;
  background: var(--fuji);
  border-radius: 50%;
  opacity: 0.6;
}

/* ===== 頁面內容 ===== */
.page-content {
  padding: 2rem 0 4rem;
}

/* ===== 步驟網格 ===== */
.steps-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}

/* ===== 特色網格 ===== */
.feature-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
}

/* ===== 程式碼區塊 ===== */
.code-block {
  background: #F5F5F7;
  border: 1px solid var(--border-kasumi);
  border-radius: var(--radius-md);
  font-family: var(--font-mono);
  overflow: hidden;
}

/* ===== 提示框 ===== */
.info-box {
  padding: 1.5rem;
  background: var(--bg-shitan);
  border-left: 3px solid var(--fuji);
  border-radius: 0 var(--radius-md) var(--radius-md) 0;
}

.info-box-title {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 500;
  margin-bottom: 0.5rem;
}

/* ===== 櫻花粒子 ===== */


/* ===== 捲軸樣式 ===== */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: var(--bg-yoru);
}

::-webkit-scrollbar-thumb {
  background: var(--bg-shitan);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-ishi);
}

/* ===== 響應式調整 ===== */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }

  .page-header {
    padding: 3rem 0 4rem;
  }

  h1 {
    font-size: 2.2rem;
  }

  h2 {
    font-size: 1.6rem;
  }

  .hidden-mobile {
    display: none !important;
  }
}

/* ===== 舊類名兼容 (過渡用) ===== */
.text-gradient {
  background: var(--grad-sunset);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-gradient-cyber {
  background: var(--grad-dawn);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.card {
  border-radius: var(--radius-lg);
}

/* ===== Command Palette (CMDK) ===== */
[cmdk-overlay] {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  z-index: 999;
}

[cmdk-root] {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  max-width: 640px;
  max-height: 480px;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  border: 1px solid var(--border-kin);
  border-radius: var(--radius-lg);
  box-shadow: 0 24px 48px rgba(0, 0, 0, 0.5);
  z-index: 1000;
  overflow: hidden;
  padding: 8px;
  animation: cm-fadeIn 0.2s ease-out;
  font-family: var(--font-gothic);
}

@keyframes cm-fadeIn {
  from {
    opacity: 0;
    transform: translate(-50%, -48%) scale(0.96);
  }

  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

[cmdk-input] {
  font-family: var(--font-gothic);
  border: none;
  width: 100%;
  font-size: 1.1rem;
  padding: 16px;
  background: transparent;
  color: var(--text-yuki);
  outline: none;
  border-bottom: 1px solid var(--border-kasumi);
  margin-bottom: 8px;
}

[cmdk-input]::placeholder {
  color: var(--text-ishi);
}

[cmdk-list] {
  height: min(300px, 50vh);
  overflow: auto;
  overscroll-behavior: contain;
  transition: 100ms ease;
  padding: 0 8px;
}

[cmdk-item] {
  content-visibility: auto;
  cursor: pointer;
  height: 48px;
  border-radius: var(--radius-md);
  font-size: 0.95rem;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 0 16px;
  color: var(--text-nezumi);
  user-select: none;
  will-change: background, color;
  transition: all 0.1s ease;
}

[cmdk-item][data-selected="true"] {
  background: var(--bg-kiri);
  color: var(--text-yuki);
  border: 1px solid var(--border-kasumi);
}

[cmdk-group-heading] {
  user-select: none;
  font-size: 0.75rem;
  color: var(--text-ishi);
  padding: 0 8px;
  margin: 16px 4px 8px;
  font-weight: 500;
  letter-spacing: 0.05em;
}

[cmdk-empty] {
  font-size: 0.9rem;
  padding: 32px;
  text-align: center;
  color: var(--text-ishi);
}

[cmdk-kbd] {
  min-width: 20px;
  padding: 0 4px;
  margin-left: auto;
  height: 20px;
  border-radius: 4px;
  color: var(--text-ishi);
  background: rgba(0, 0, 0, 0.05);
  font-size: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-mono);
  border: 1px solid rgba(0, 0, 0, 0.05);
}


/* ===== Skeleton Loading ===== */
@keyframes skeleton-shimmer {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(100%);
  }
}

.skeleton {
  position: relative;
  overflow: hidden;
  background-color: var(--bg-shitan);
  /* Base dark color */
  border-radius: var(--radius-sm);
}

.skeleton::after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background: linear-gradient(90deg,
      transparent 0%,
      var(--bg-washi) 50%,
      transparent 100%);
  transform: translateX(-100%);
  animation: skeleton-shimmer 2s infinite;
}

/* ===== Full Page Scroll Snap (Disabled) ===== */
/* 
.snap-container {
  height: 100vh;
  height: 100dvh;
  overflow-y: scroll;
  scroll-snap-type: y mandatory;
  scroll-behavior: smooth;
}

.snap-section {
  height: 100vh;
  height: 100dvh;
  width: 100%;
  scroll-snap-align: start;
  scroll-snap-stop: always;
  display: flex;
  flex-direction: column;
  justify-content: center;
  position: relative;
  box-sizing: border-box;
  overflow: hidden;
}

@media (max-height: 800px) {
  .snap-section.allow-scroll {
    justify-content: flex-start;
    overflow-y: auto;
    padding-top: 4rem;
    padding-bottom: 4rem;
  }
}

.home-scroll-fix {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  height: 100dvh;
  z-index: 60;
  padding-top: 0 !important;
  background: transparent;
} 
*/